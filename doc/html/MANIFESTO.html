<html>
<head>
<TITLE>manifesto</TITLE>
</head>
<body>

<h1>
manifesto
</h1>

<p>
Last Update: 9/9/96
</p>

<hr>

<p>
※基本的に，
全てのファイルのJapanese Kanji Character Setのencoding scheme
(以下単に漢字コード)は日本語EUCです．
プログラムの挙動がおかしくなったら，まずは漢字コードをチェックしてくださいね．
</p>
<p>
<dl>
<dt>COPYING
<dd>GNU GENERAL PUBLIC LICENSE Version 2, June 1991のCopyingメッセージ．

<dt>doc
<dd>htmlによるドキュメントが格納されたディレクトリ．
<a href="index.html">doc/index.html</a>は，
少なくとも一度はアクセスしてみてください．

<dt><a name="kb.cgi">kb.cgi</a>
<dd>きのぼーずシステム本体であるperl script．
記事の書き込み，記事の表示，タイトルの表示等，
全ての機能がこのperl scriptにより実装されています．
起動時に渡すCGI変数等の詳細は，ファイル中のコメントを参照してください．

<dt>kb.ph
<dd>きのぼーずシステムのサイト依存の設定を行なうためのperl header．
管理者のメールアドレス，システムの機能設定，メッセージの定義等を行ないます．
基本的にこのファイル中のメッセージを全て変更すれば，
外国語版きのぼーずを作ることができるはずです
(ただし，応答時に送られるメールの本文とエラーメッセージについては，
<a href="#kb.cgi">kb.cgi</a>の中を直接変更してください)．

<dt>cgi.pl(.*)
<dd>CGI変数をdecodeするperl package．
<a href="#kb.cgi">kb.cgi</a>の中に読み込んで，
訪問者から入力されたデータのdecodeを行います．
<dd>ブラウザから入力される文字列の漢字コードの変換方法に応じて，
cgi.pl.jcodeとcgi.pl.outcomを用意しています．
cgi.pl.jcodeは，
(株)SRAの歌代さんが作られたフリーウェアである
<a href="ftp://ftp.sra.co.jp/pub/lang/perl/sra-scripts/">jcode.pl</a>
(現時点での最新正式リリース版はv 1.12)を用いて，
cgi.pl.outcomはUNIXのコマンドを用いて(用いるコマンドはscript内で変更できます)
漢字コードの変換を行ないます．
cgi.plは，配布パッケージでは，cgi.pl.jcodeと同じものです．

<dt><a name="tag_secure.pl">tag_secure.pl</a>
<dd>文字列中に含まれる不正なタグをチェックするperl package．
<a href="http://www.kinotrope.co.jp/">キノトロープ</a>の
<a href="http://www.kinotrope.co.jp/~ami/">河合あみこさん</a>
によるフリーウェア．ver 1.0．
<a href="#kb.cgi">kb.cgi</a>の中に読み込んで，
投稿された記事のチェックを行ないます．
使用可能なタグはヘッダ部分で定義されているので，
必要があれば変更，追加してください．

<dt><a name="kinoboards">kinoboards</a>
<dd>きのぼーずシステムが扱う，
掲示板のdirectory名と正式名との対応を管理するDB．
<a href="MAINT.html#addboard">掲示板を増やす場合</a>に，
directory名と掲示板名をTAB文字で区切り，1行に1つの掲示板情報を書き加えます．
行末には必ず改行コードを入れてください．
配布時に登録されている掲示板は，「test/テスト」のみです．

<dt>kinousers
<dd>ユーザのエイリアスを管理するDB．
エイリアス名，ユーザ名，E-mail addr.，URL等を管理します．
<a href="#kinoboards">kinoboards</a>とは異なり，
基本的にユーザが直接ファイルを書き換える必要はありません．
配布時は空です．

<dt>icons
<dd>アイコン用gifファイルを保管するdirectory．

<dl>
<dt>icons/all.idef
<dd>アイコンメッセージとgifファイルとのdefaultの対応を保持します．

<dt>icons/{掲示板directory名}.idef
<dd>各掲示板固有の，アイコンメッセージとgifファイルとの対応を用意したい場合は，
このようなファイルを作成してください．
例えばテスト用掲示板では，icons/test.idefが存在するなら，
そこに書かれた対応に従うことになります．
</dl>

<dt>test
<dd>配布時に用意されているテスト用掲示板の記事を保管するdirectory．

<dl>
<dt>test/.db
<dd>テスト掲示板に書き込まれた記事情報を管理するDB．
本文以外の記事情報を管理します．

<dt>test/.articleid
<dd>テスト掲示板に書き込まれた最新記事のIDを管理するDB．

<dt>test/.board
<dd>テスト用掲示板の記事一覧の先頭に挿入されるhtmlファイル．
イメージファイルを張り付けたり，自由に書き換えてください．

<dt>test/.board.cgi-bin
<dd>CGI scriptとシステムを別ディレクトリに置かなければならないサイトのための，
サンプル.boardファイル．詳しくは
<a href="INSTALL.html">INSTALLATIONファイル</a>
を参照してください．
</dl>

<dt>index.html
<dd>各掲示板に分岐するためのhtmlページ．
自由に書き換えて結構です．このファイルのみ，漢字コードは任意ですが，
読者の利便を考えると日本語EUCにしておいた方がいいと思います
(掲示板の中では全て日本語EUCになります)．

<dt>index.html.cgi-bin
<dd>CGI scriptとシステムを別ディレクトリに置かなければならないサイトのための，
サンプルindex.htmlファイル．詳しくは
<a href="INSTALL.html">INSTALLATIONファイル</a>
を参照してください．
</dl>
</p>

<hr>

<address>
<a href="http://www.kinotrope.co.jp/~nakahiro/kb10.shtml">KINOBOARDS/1.0: Kinoboards Is Network Opened BOARD System</a>.
Copyright (C) 1995, 96
<a href="http://www.kinotrope.co.jp/~nakahiro/">NAKAMURA Hiroshi</a>.
</address>
</body>
</html>
