<?xml version="1.0" encoding="ISO-2022-JP"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:kb="http://www.jin.gr.jp/xmlns/kb-html-embedding"
    lang="ja" xml:lang="ja">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ja" xml:lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-2022-JP" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<link rev="MADE" href="mailto:nakahiro@sarion.co.jp" />
<link rel="INDEX" href="./" />
<link rel="StyleSheet" href="kinoStyle.css" type="text/css" media="screen" />
<title>Installation - KINOBOARDS/1.0R7</title>
</head>
<body>

<div class="header">
<h1>
Installation
</h1>

<p class="status">
Last modified: July 1, 2000<br />
Created: May 2, 2000
</p>
</div>

<hr />

<div class="main">
<h2>0. このドキュメントの目的</h2>

<p>
このドキュメントは，KINOBOARDS version 1.0 release 7を新規にインストールするユーザのための，インストール手順解説書です．
release 6からの移行，旧バージョンからのアップグレードについては，専用の別文書を参照してください．
</p>

<p>
本文書が対象としているKINOBOARDSのバージョンは，
KINOBOARDS version 1.0 release 7（KINOBOARDS/1.0R7.2）
です．
</p>

<p>
新規インストールは，以下の手順で進めてください．
</p>

<ol>
<li><a href="#check">環境の調査</a></li>
<li><a href="#download">ダウンロード</a></li>
<li><a href="#expand">展開</a></li>
<li><a href="#modify">ファイルの書き換え</a></li>
<li><a href="#put">ファイル転送</a></li>
<li><a href="#mode">ファイルモードの設定</a></li>
<li><a href="#cgiTest">システムテスト</a></li>
<li><a href="#adminConfig">管理者パスワード設定</a></li>
<li><a href="#config">カスタマイズ</a></li>
<li><a href="#kbPhTest">設定ファイルテスト</a></li>
<li><a href="#lastTest">カスタマイズ掲示板動作テスト</a></li>
</ol>

<p>
手順11までくればインストール終了です．
システムをインストールして頂きましたら，
<a href="http://www.jin.gr.jp/~nahi/kv.cgi?b=example">きのぼずインストーラリスト</a>
にあるアンケートに御協力ください．
今後の開発の参考にしますので，どうかよろしくお願いします．
</p>

<h2 id="check" name="check">1. 環境の調査</h2>

<p>
まず，以後のインストール手順で必要となる情報を，全て揃えてしまいましょう．
インストール手順の中で，この調査が一番大変かもしれませんが，ここを切り抜けてしまえば，後は比較的簡単
（もしくは，もし問題が起こっても調査し易い）
ですので，頑張ってください．
</p>

<h3 id="checkCGIEnv" name="checkCGIEnv">1.1 CGI環境の調査</h3>

<p>
最初に調査するのは，あなたが利用しているプロバイダが提供しているCGI環境です．
以下の情報が必要です．
</p>

<ul>
<li>perlというプログラムのパスはどこか?（きのぼずを動かすためには，perlというプログラムが必要です）<br /><br /></li>

<li>CGIプログラムを自由なディレクトリに置くことができるか，それとも決まったディレクトリ（例えば<samp>cgi-bin</samp>等）に置かなければならないか?<br />
以後，それぞれ<strong>「ディレクトリフリー環境」</strong>，<strong>「固定ディレクトリ環境」</strong>と呼ぶことにします．<br /><br />
<ul>
<li><strong>「固定ディレクトリ環境」</strong>の場合は，その固定ディレクトリ（CGIのプログラムを置くディレクトリ）パスはどこか?<br />
例えば「<samp>/cgi-bin/nahi/</samp>」など．</li>
</ul><br /></li>

<li>CGIWRAPという，CGI起動ラッパープログラムを利用しているか否か?（利用している場合，以後<strong>「CGIWRAP環境」</strong>と呼ぶことにします）
具体的には，Hi-Ho，interq等のプロバイダがCGIWRAPを利用しています．またCobalt Networks社のCobalt Cube 2700J，Cobalt Raq J R15 125 NIUというサーバも，CGIWRAPを利用しているそうです．<br /><br /></li>

<li>ApacheのsuEXECという機能を利用しているか否か?（利用している場合，以後<strong>「suEXEC環境」</strong>と呼ぶことにします）
具体的には，リムネット，A-CUBE，X-Jam等のプロバイダがsuEXECを利用しています．</li>
</ul>

<p>
プロバイダの利用案内やCGI用のFAQを見ると，上記4点について，自分がどれにあてはまるか調べられると思います．
もし不明な場合は，プロバイダの管理者さんに問い合わせてみてください．
試行錯誤の苦手でない方は，とりあえずどれかであると仮定してインストールを進めてみて，ハマったところで，それまでの挙動を
<a href="http://www.jin.gr.jp/~nahi/kb/v10r7/">きのぼずサポート掲示板</a>
に報告すれば，何かアドバイスがもらえるかもしれません．
</p>

<p>
以上，あなたのCGI環境について調べられたら，忘れないために，以下のフォームにメモしておいてください．
インストール手順のいくつかで，このメモを確認する必要が生じる場合があります．
</p>

<fieldset id="cgiEnv" name="cgiEnv">
<legend>あなたのCGI環境</legend>
<dl>
<dt>1. perlのパスは?</dt>
<dd><input type="text" id="confPerlPath" name="confPerlPath" size="60" value="/usr/local/bin/perl"></dd>

<dt>2. プロバイダのディレクトリ環境はどっち?</dt>
<dd>
<input type="radio" id="confDirTypeFree" name="confDirType" value="free"><label for="confDirTypeFree">ディレクトリフリー環境</label>
&nbsp;&nbsp;パスを調査する必要はありません<br />
<input type="radio" id="confDirTypeStatic" name="confDirType" value="static"><label for="confDirTypeStatic">固定ディレクトリ環境</label>
&nbsp;&nbsp;ディレクトリのパス: <input type="text" id="confCGIPath" name="confCGIPath" size="60" value="/cgi-bin/nahi/"></dd>

<dt>3. プロバイダはCGIWRAP環境?</dt>
<dd><input type="checkbox" id="confCGIwrap" name="confCGIwrap" value="yes"><label for="confCGIwrap">CGIWRAP環境</label></dd>

<dt>4. プロバイダはsuEXEC環境?</dt>
<dd><input type="checkbox" id="confSuexec" name="confSuexec" value="yes"><label for="confSuexec">suEXEC環境</label></dd>

</dl>
</fieldset>

<p>
ちなみに「固定ディレクトリ環境」であり，かつ「CGIWRAP環境」であるという，不幸な環境もあります．
例えばHi-Hoですね．^^;
とはいっても，注意深く設置すれば必ず動きます（動作実績もあります）．
</p>

<h3 id="checkKBEnv" name="checkKBEnv">1.2 きのぼず環境の調査</h3>

<p>
続いて，あなたがこれからインストールするきのぼずの環境を決定する必要があります．
先に調べたCGI環境に依って決まってしまう部分もありますが，基本的には，あなたのウェブサイトのディレクトリ構成や，セキュリティについての指針に従って，あなたが決定する必要があります．
以下の項目について決定してください．
</p>

<ul>
<li><strong>きのぼずの公開ディレクトリ（kbディレクトリ）</strong>を，ウェブサーバのどこに置くか?<br />
公開ディレクトリには，CGIプログラムそのもの，各種画像ファイルなどが含まれます．<br />
ただし先に調べたCGI環境で，
<a href="#confDirTypeStatic">固定ディレクトリ環境</a>
にあたる人の場合，CGIプログラムそのものは
<a href="#confCGIPath">その固定ディレクトリ</a>
に置かなくてはいけないので，このディレクトリに含まれるのは，各種画像ファイルのみになります．<br /><br />

<ul>
<li>そのディレクトリのURLは?<br />
例えば，「<samp>http://www.jin.gr.jp/~nahi/bbs/kb/</samp>」や「<samp>/~nahi/kb/</samp>」など（URLとして正しければ，<samp>http://〜</samp>の部分は省略できます）．<br /><br /></li>

<li>そのディレクトリのパスは? どのパスにFTPする?<br />
例えば，「<samp>/home/nahi/public_html/bbs/kb/</samp>」や「<samp>/home/nahi/html/kb/</samp>」など（こちらは<samp>~</samp>などの省略はできません）．</li>
</ul><br /></li>

<li><strong>きのぼずのデータファイルが入ったディレクトリ（kbdataディレクトリ）</strong>を，ウェブサーバのどこに置くか?
そのディレクトリのパスは? どのパスにFTPする?<br />
このディレクトリは，他人のブラウザからアクセスできない非公開ディレクトリで構いません．
セキュリティを考えれば，kbディレクトリとは別にして，他人からは見えない場所に隠しておきたいところです．<br />
「<samp>/home/nahi/kbdata/</samp>」や「<samp>/home/nahi/secure/kbdata/</samp>」など．</li>
</ul>

<p>
以上，あなたのきのぼず環境について決定したら，忘れないために，CGI環境同様，以下のフォームにメモしておいてください．
インストール手順のいくつかで，このメモを確認する必要が生じる場合があります．
</p>

<fieldset id="kbEnv" name="kbEnv">
<legend>あなたのきのぼず環境</legend>
<dl>
<dt>5. きのぼずの公開ディレクトリ，「kbディレクトリ」について</dt>
<dd><ul>
<li>URLは? <input type="text" id="confKbURL" name="confKbURL" size="60" value="/~nahi/kb/"></li>
<li>パスは? <input type="text" id="confKbPath" name="confKbPath" size="60" value="/home/nahi/public_html/kb/">
</ul></dd>

<dt>6. きのぼずのデータファイルが入った非公開ディレクトリ，「kbdataディレクトリ」について</dt>
<dd>パスは? <input type="text" id="confKbdataPath" name="confKbdataPath" size="60" value="/home/nahi/kbdata/"></dd>
</dl>
</fieldset>

<p>
いきなり面倒な作業ですいません．
御苦労様でした．
以上のメモが終わったら，それでは実際のインストール手順に進みましょう．
</p>

<h2 id="download" name="download">2. ダウンロード</h2>

<p>
最新版の
<a href="http://www.jin.gr.jp/~nahi/kb/#dl">圧縮パッケージ</a>
をダウンロードして，自分のパソコンに保存してください．
</p>

<h2 id="expand" name="expand">3. 展開</h2>

<p>
圧縮パッケージを展開します．
自分のパソコン上で，伸長・展開ツールを利用して，圧縮パッケージを展開してください．
</p>

<p>
圧縮パッケージを展開すると，KB_v10〜というディレクトリと，そのディレクトリの中にいくつかのファイルとディレクトリが作られます．
下の図において，後ろに「/」がついているのはディレクトリを，そうでないものはファイルを示します．
各ディレクトリおよびファイルの役割については，
<a href="MANIFESTO.html">MANIFESTOドキュメント</a>
を御覧ください．
</p>

<blockquote>
<pre>
+-KB_v10〜/
   +-COPYING
   +-README
   +-doc/
   |  +-html/
   |     :
   |
   +-kb/
   |  +-icon/
   |  |  :
   |  |
   |  +-img/
   |  |  :
   |  |
   |  +-index.cgi
   |  +-style/
   |     +-kbStyle.css
   |
   +-kbdata/
   |  +-UI/
   |  |  :
   |  |
   |  +-board/
   |  |  +-kb.aid
   |  |  +-kb.board
   |  |  +-kb.db
   |  |
   |  +-cgi.pl
   |  +-idef/
   |  |  :
   |  |
   |  +-jcode.pl
   |  +-kb.ph
   |  +-kb.user
   |  +-kinoboards
   |  +-kinologue.pl
   |  +-log/
   |  |  +-_place_holder_
   |  |
   |  +-mimer.pl
   |  +-mimew.pl
   |  +-test/
   |     +-kb.aid
   |     +-kb.board
   |     +-kb.db
   |
   +-redist/
   |  :
   |
   +-tools/
      :
</pre>
</blockquote>

<p>
パッケージ中にはたくさんのファイルが含まれていますが，きのぼずを動かすためにプロバイダ（ウェブサーバ）に転送しなくてはいけないのは，kbおよびkbdataの2つのディレクトリだけです（ここではまだ転送しません）．
その他のファイル，ディレクトリは，きのぼず稼働時には使われません．
あなたのパソコンに保管しておいてください．
</p>

<p>
伸長・展開が終わったら，先へ進んでください．
プロバイダに転送するのはもうちょっと後です．
</p>

<h2 id="modify" name="modify">4. ファイルの書き換え</h2>

<p>
最初に，index.cgiというファイルの書き換えが必要です．
</p>

<p>
index.cgiというファイルの先頭行には，KINOBOARDSを動かすために必要なperlというプログラムのパスが書かれています．
予め一般的な設定がされていますが，プロバイダ（ウェブサーバ）に依って違うため，調べて正しく設定しなければなりません．
</p>

<p>
それでは，index.cgiを適当なエディタで開いてください．
この時，漢字コードが日本語EUCのファイルを正しく表示できるエディタを使ってください．
Win95/Win98なら
<a href="http://www2.mitene.or.jp/maruo/">秀丸エディタ</a>（お金がかかりますが……），
<a href="http://web.kyoto-inet.or.jp/people/koyabu/">K2Editor</a>，
<a href="http://village.infoweb.ne.jp/~ckawa/">Perl Editor</a>，
<a href="http://homepage1.nifty.com/kaityo/">copal</a>など
（情報をくださった綾乃介さん，感謝です）．
Macなら
<a href="http://www.iijnet.or.jp/matsumoto/seihin/jedit/index.html">Jedit</a>
などです．<br />
現在パソコンに付属しているエディタのほとんどは，
残念ながら漢字コードがSJISでないと正しく表示できません．．．
</p>

<p>
index.cgiを保存する時は，間違えて漢字コードを変更しないようにしてください．
index.cgiの漢字コードはEUCです．
perlのプログラムは，EUC以外の漢字コードでは，正しく動きません．
</p>

<p>
まず先頭行を書き換えます．
「#!」に続けて，
<a href="#confPerlPath">1. perlのパス</a>
で調べたperlのパスを書き込みます．
</p>

<blockquote>
<pre>
例: perlのパスが/usr/bin/perlだった場合

#!/usr/local/bin/perl → #!/usr/bin/perl
</pre>
</blockquote>

<p>
続いて$KBDIR_PATHに，プロバイダ（ウェブサーバ）に置く予定のkbdataディレクトリのパスを指定します．
$KBDIR_PATHの後ろの''の間に，
<a href="#confKbdataPath">6. kbdataディレクトリのパス</a>
を書き込みます．
</p>

<blockquote>
<pre>
例1: kbdataディレクトリのパスが「/home/nahi/kbdata/」になる予定の場合

$KBDIR_PATH = '';
↓
$KBDIR_PATH = '/home/nahi/kbdata/';


例2: サーバがWindowsで，kbdataディレクトリのパスが「c:\inetpub\wwwroot\kbdata\」になる予定の場合（「\」→「\\」としてください）

$KBDIR_PATH = '';
↓
$KBDIR_PATH = 'c:\\inetpub\\wwwroot\\kbdata\\';
</pre>
</blockquote>

<p>
次に，もしあなたが
<a href="#confCGIwrap">2. CGIWRAP環境</a>
の場合は，$KB_RESOURCE_URLに，プロバイダ（ウェブサーバ）に置く予定のkbディレクトリのURLを指定します．
そうでない環境の場合，特に変更の必要はありません．
$KB_RESOURCE_URLの後ろの''の間に，
<a href="#confKbURL">5. kbディレクトリのURL</a>
を書き込みます．
</p>

<blockquote>
<pre>
例: kbディレクトリのURLが「/~nahi/bbs/kb/」になる予定の場合

$KB_RESOURCE_URL = '';
↓
$KB_RESOURCE_URL = '/~nahi/bbs/kb/';
</pre>
</blockquote>

<p>
さらに，サーバOSがWin95/Win98，もしくはMacの場合
（プロバイダがこれらのマシンをサーバにすることはないでしょうから，
自分のパソコンにインストールする場合ですね），
index.cgiの続く3つ目の項目を，以下のように書き換えます．
サーバがWin95/Win98，Macでない場合は書き換える必要はありません．
</p>

<blockquote>
<pre>
$PC = 0;        # for UNIX / WinNT
# $PC = 1;      # for Win95 / Mac

↓

# $PC = 0;      # for UNIX / WinNT
$PC = 1;        # for Win95 / Mac
</pre>
</blockquote>

<h2 id="put" name="put">5. ファイル転送</h2>

<p>
<a href="#expand">3. 展開</a>
で作成された各種ファイル，ディレクトリを，プロバイダ（ウェブサーバ）に転送します．
</p>

<h3 id="putKb" name="putKb">5.1 kbディレクトリの転送</h3>

<p>
公開ディレクトリ，kbディレクトリを，プロバイダ（ウェブサーバ）に転送します．
転送先は，先に決定した
<a href="#confKbPath">5. kbディレクトリのパス</a>
です．
</p>

<p>
例えば
<a href="#confKbPath">5. kbディレクトリのパス</a>
が「<samp>/home/nahi/public_html/kb/</samp>」だった場合は，以下のようになります．
</p>

<blockquote>
<pre>
/
 +-home/
    +-nahi/
      +-public_html/
        +-kb/
           +-icon/
           |  :
           |
           +-img/
           |  :
           |
           +-<strong>index.cgi</strong>
           +-style/
              +-kbStyle.css
</pre>
</blockquote>

<h3 id="putCGI" name="putCGI">5.2 CGIプログラムの転送</h3>

<p>
<a href="#modify">4. ファイルの書き換え</a>
で書き換えたindex.cgiを，プロバイダ（ウェブサーバ）に転送します．
ここで
<a href="#confDirTypeFree">ディレクトリフリー環境</a>
の人は，上のkbディレクトリと同じく，
<a href="#confKbPath">5. kbディレクトリのパス</a>
に転送します．
<a href="#putKb">kbディレクトリの転送</a>
が正常に行なわれていれば，既にindex.cgiは正しいパスに転送されているはずですので，何もする必要はありません．
</p>

<p>
<a href="#confDirTypeStatic">固定ディレクトリ環境</a>
の人は，プロバイダの指定どおり，
<a href="#confCGIPath">固定ディレクトリのパス</a>
に転送してください．
例えば
<a href="#confCGIPath">固定ディレクトリのパス</a>
が「<samp>/cgi-bin/nahi/</samp>」だった場合は，以下のようになります．
</p>

<blockquote>
<pre>
/
 +-cgi-bin/
    +-nahi/
      +-index.cgi
</pre>
</blockquote>

<h3 id="putKbdata" id="putKbdata">5.3 kbdataディレクトリの転送</h3>

<p>
非公開ディレクトリ，kbdataディレクトリを，プロバイダ（ウェブサーバ）に転送します．
転送先ディレクトリは，先に決定した
<a href="#confKbdataPath">6. kbdataディレクトリのパス</a>
です．
</p>

<p>
例えば
<a href="#confKbdataPath">6. kbdataディレクトリのパス</a>
が「<samp>/home/nahi/kbdata/</samp>」だった場合は，以下のようになります．
</p>

<blockquote>
<pre>
/
 +-home/
    +-nahi/
      +-kbdata/
         +-UI/
         |  :
         |
         +-board/
         |  +-kb.aid
         |  +-kb.board
         |  +-kb.db
         |
         +-cgi.pl
         +-idef/
         |  :
         |
         +-jcode.pl
         +-kb.ph
         +-kb.user
         +-kinoboards
         +-kinologue.pl
         +-log/
         |  +-_place_holder_
         |
         +-mimer.pl
         +-mimew.pl
         +-test/
            +-kb.aid
            +-kb.board
            +-kb.db
</pre>
</blockquote>

<p>
以上でファイルの転送は終了です．
</p>

<h2 id="mode" name="mode">6. ファイルモードの設定</h2>

<p>
次に，プロバイダ（ウェブサーバ）に転送した各ファイルとディレクトリの，モード（パーミッション）を設定します．
ファイルがたくさんあって大変ですが，頑張ってください．
</p>

<p>
以下に，パッケージに含まれているファイル毎に，モード（パーミッション）を示します．
環境に依って転送先ディレクトリが異なると思いますが，転送先ファイルのモード（パーミッション）を指定してください．
モード（パーミッション）の変更は，お使いのFTPソフトウェアでやっても構いませんし，telnetしてログインした後，chmodコマンドで行っても構いません．
</p>

<h3>通常モード（パーミッション）設定</h3>

<p>
<a href="#confSuexec">4. suEXEC環境</a>
<strong>でない</strong>人は，各ファイルのモード（パーミッション）を，以下のように指定してください．
</p>

<blockquote>
<pre>
+-kb/                   755
   +-icon/              755
   |  :                 444（iconディレクトリの中の全ファイル）
   |
   +-img/               755
   |  :                 444（imgディレクトリの中の全ファイル）
   |
   +-index.cgi          755
   +-style/             755
      +-kbStyle.css     644

+-kbdata/               777
   +-UI/                755
   |  :                 644（UIディレクトリの中の全ファイル）
   |
   +-board/             777
   |  +-kb.aid          666
   |  +-kb.board        666
   |  +-kb.db           666
   |
   +-cgi.pl             444
   +-idef/              755
   |  :                 644（idefディレクトリの中の全ファイル）
   |
   +-jcode.pl           444
   +-kb.ph              644
   +-kb.user            666
   +-kinoboards         666
   +-kinologue.pl       444
   +-log/               777
   |  +-_place_holder_  444
   |
   +-mimer.pl           444
   +-mimew.pl           444
   +-test/              777
      +-kb.aid          666
      +-kb.board        666
      +-kb.db           666
</pre>
</blockquote>

<h3>suEXEC環境用モード（パーミッション）設定</h3>

<p>
<a href="#confSuexec">4. suEXEC環境</a>
の人は，各ファイルのモード（パーミッション）を，以下のように指定してください．
index.cgiおよびkbdataディレクトリの，右側2つの数字が0になります．
</p>

<blockquote>
<pre>
+-kb/                   755
   +-icon/              755
   |  :                 444（iconディレクトリの中の全ファイル）
   |
   +-img/               755
   |  :                 444（imgディレクトリの中の全ファイル）
   |
   +-index.cgi          700
   +-style/             755
      +-kbStyle.css     644

+-kbdata/               700
   +-UI/                700
   |  :                 600（UIディレクトリの中の全ファイル）
   |
   +-board/             700
   |  +-kb.aid          600
   |  +-kb.board        600
   |  +-kb.db           600
   |
   +-cgi.pl             400
   +-idef/              700
   |  :                 600（idefディレクトリの中の全ファイル）
   |
   +-jcode.pl           400
   +-kb.ph              600
   +-kb.user            600
   +-kinoboards         600
   +-kinologue.pl       400
   +-log/               700
   |  +-_place_holder_  400
   |
   +-mimer.pl           400
   +-mimew.pl           400
   +-test/              700
      +-kb.aid          600
      +-kb.board        600
      +-kb.db           600
</pre>
</blockquote>

<h2 id="cgiTest" name="cgiTest">7. システムテスト</h2>

<p>
プロバイダにtelnetできる人は，ここでプログラムのテストをします．
telnetできない人はこのやり方ではテストできないので，ここは飛ばしてください．
</p>

<p>
まずは送ったファイルが壊れてないかどうかのチェックをします．
telnetしてログインし，index.cgiのあるディレクトリへ行ってから，
</p>

<blockquote>
<pre>
perl -c ./index.cgi
</pre>
</blockquote>

<p>
と打ち込んでください．
</p>

<blockquote>
<pre>
./index.cgi syntax OK
</pre>
</blockquote>

<p>
と表示されればテストOKです．
</p>

<p>
もしエラーメッセージ
（parse error in 〜など）
が表示されたら，index.cgiのPerlのパス以外の部分を書き換えてしまってないか，漢字コードがSJISなどになってしまっていないかチェックしてください
（EUCでなければいけません）．
</p>

<h2 id="adminConfig" name="adminConfig">8. 管理者パスワード設定</h2>

<p>
ここまでミスがなければ，この時点でシステムはもう稼働可能な状態になっています．
システム稼働後に最初にしなければならない仕事は，管理者ユーザ（ユーザ名: admin）の，認証用パスワードの設定です．
インストール時点では，管理者ユーザのパスワードは設定されていませんので，そのまま放っておくと，悪戯し放題になってしまいます．
そのため，もしどうしてもここでインストール手順を中断しなければならない場合は，index.cgiを削除するなどして，他人からアクセスできないようにしておいてください．
</p>

<p>
管理者ユーザのパスワード設定は簡単です．
単純に，ブラウザでindex.cgiにアクセスしてみてください．
「管理者パスワードの設定」という画面が表示されるはずです．
きのぼずでは，インストールして最初にアクセスした人が，管理者としてパスワードを設定するようになっています．
</p>

<p>
この画面で管理者パスワードを設定したら，正しくパスワードが設定されたことを確認するために，さっそく管理者としてログインしてください．
掲示板一覧画面が表示され，画面上部に「ユーザ: admin」と表示されればOKです．
</p>

<p>
ここで，
<a href="#cgiTest">7. システムテスト</a>
に成功したにもかかわらずなんらかのエラーが出てしまった人は，各種ファイルのモード（パーミッション）を疑ってみてください．
初期動作テストを実施できなかった人は，これに加えてindex.cgiのPerlのパス以外の部分を書き換えてしまってないか，漢字コードがSJISになどになってしまっていないかも，チェックしてください
（EUCでなければいけません）．
</p>

<h2 id="config" name="config">9. カスタマイズ</h2>

<p>
ここまでで，プログラムが正しく動作することが確認できました．
一般ユーザでの新規登録をしてみたり，テスト掲示板に書き込んだりして，きのぼずの機能を試してみてください．
再度ログイン画面を表示させ，ユーザ名とパスワードを入力せずに「実行」ボタンを押せば，今度はゲストユーザとしてログインできます．
再びいろいろ試してみてください．
ちゃんと動きましたか?
</p>

<p>
では次に，あなたの好みに合わせて掲示板の機能を変更しましょう．
一部，必ず変更しなければならない場所がありますので，「このままでいいや」と読み飛ばしたりしないでくださいね．^^;
</p>

<p>
基本的なカスタマイズのために必要な操作は，設定ファイルkb.phの書き換えだけです．
</p>

<p>
あなたのパソコンに置いてあるkb.phを
（プロバイダに転送したからって，消しちゃ駄目ですよ．いざという時のために，とっておいてくださいね ^^;）
適当なエディタで開き，ファイルの中身を見てみてください．
この時，
<a href="#modify">index.cgiと同じく</a>，
漢字コードが日本語EUCのファイルを正しく表示できるエディタを使ってください．
kb.phの漢字コードも，index.cgiと同じく，EUCでなければなりません．
</p>

<p>
うまくエディタで開けたら，kb.phを書き換えて，きのぼーずをあなたのサイト用に設定し直してください．
設定の詳細はファイルの中身に書かれています．
特に変更が必要なのは，
</p>

<ul>
<li>管理者の名前（$MAINT_NAME）</li>
<li>管理者のメイルアドレス（$MAINT）</li>
<li>掲示板システムの名前（$SYSTEM_NAME）</li>
</ul>

<p>
です．忘れずに変更してくださいね．^^;
</p>

<p>
変更が終わったら，FTPソフトウェアでkb.phをプロバイダ（ウェブサーバ）に転送してください．
モード（パーミッション）の設定も，再度行なってください．
</p>

<h2 id="kbPhTest" name="kbPhTest">10. 設定ファイルテスト</h2>

<p>
書き換えた設定ファイル，kb.phのテストをしましょう．
telnetできない人はこのやり方ではテストできないので，ここは飛ばしてください．
</p>

<p>
telnetしてログインし，kbディレクトリへ行ってから，
</p>

<blockquote>
<pre>
perl -c ./kb.ph
</pre>
</blockquote>

<p>
と打ち込んでください．
です．「syntax OK」と表示されればテストは成功です．
</p>

<p>
もしエラーメッセージ（parse error in 〜など）が表示されたら，
kb.phの書き方がどこか間違っている，ということです．
エラーメッセージの中に，間違っている行番号が書かれていますよね?
例えば
</p>

<blockquote>
<pre>
parse error in file kb.ph at line <strong>106</strong>, next token "〜
</pre>
</blockquote>

<p>
だったら，106行目付近が間違っているという意味です．
kb.phの106行目付近をチェックしてください．
特に，必要な「,」や「'」を間違って消してしまったりしがちですので，
注意してください．
</p>

<h2 id="lastTest" name="lastTest">11. カスタマイズ掲示板動作テスト</h2>

<p>
<a href="#WwwTest">8. CGI動作テスト</a>
と同じく，ブラウザでindex.cgiにアクセスし，カスタマイズした掲示板が正しく動作することを確認してください．
<a href="#WwwTest">8. CGI動作テスト</a>と
<a href="#kbPhTest">10. 設定ファイルテスト</a>
のテストに成功していれば，ここまで来てエラーが出ることはないはずです．
カスタマイズが気に入らなければ，
<a href="#config">9. カスタマイズ</a>からやり直しましょう．
</p>

<p>
これで一通りの設定は終わりです．お疲れさまでした．
しばらくきのぼずで遊んでみてください．
</p>

<p>
しばらく触っているうちに，「ここの機能は不要だから外したい」「そこの表示を変えたい」などの欲求が出てくると思います．
きのぼずは，プログラム本体の変更をしなくても，大抵のカスタマイズができます．
<a href="index.html#docs">各種ドキュメント</a>
を参考にして，あなた好みのきのぼずに仕上げてください．(^-^
</p>

</div>

<hr />

<div class="footer">
<address>
<a href="http://www.jin.gr.jp/~nahi/kb/">KINOBOARDS: Kinoboards Is Network Opened BOARD System</a>.<br />
Copyright &copy; 1995-2000
<a href="http://www.jin.gr.jp/~nahi/">NAKAMURA, Hiroshi</a>.
</address>
</div>
</body>
</html>
